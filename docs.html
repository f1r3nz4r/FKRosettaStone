function createSnowflake() {
  const snowflake = document.createElement('div');
  snowflake.classList.add('snowflake');
  const depth = Math.floor(Math.random() * 50) + 1; // Random number of layers (up to 3)
  const branches = Math.floor(Math.random() * 15) + 2; // Random number of branches

const maxOffset = 2500; // Adjust this value to change the maximum offset
const xOffset = Math.random() * maxOffset * 2 - maxOffset; // Random x offset
const yOffset = Math.random() * maxOffset * 2 - maxOffset; // Random y offset

for (let i = 0; i < branches; i++) {
  const branch = document.createElement('div');
  branch.classList.add('branch');

  const angle = (360 / branches) * i;

  const x = xOffset + Math.cos((angle * Math.PI) / 180) * (depth * 0.5);
  const y = yOffset + Math.sin((angle * Math.PI) / 180) * (depth * 0.5);

  branch.style.transform = `translate(${x}px, ${y}px) rotate(${angle}deg)`;
  snowflake.appendChild(branch);
}

  document.body.appendChild(snowflake);

  // Fading the snowflake after a delay
  setTimeout(() => {
    snowflake.style.opacity = 1; // Make the snowflake visible
  }, 78);
}

function initiateSnowfall() {
  setInterval(createSnowflake, 5);
}

initiateSnowfall();


document.getElementById('github-btn').addEventListener('click', function(event) {
  const button = event.target;
  const buttonRect = button.getBoundingClientRect();

  for (let i = 0; i < 100; i++) {
    const particle = document.createElement('div');
    particle.classList.add('particle');
    document.body.appendChild(particle);

    const particleSize = Math.floor(Math.random() * 10) + 3;
    const x = buttonRect.left + buttonRect.width / 2;
    const y = buttonRect.top + buttonRect.height / 2;
    const angle = Math.random() * Math.PI * 2;
    const velocity = Math.random() * 10 + 2;

    const xOffset = Math.cos(angle) * Math.random() * 200 * velocity;
    const yOffset = Math.sin(angle) * Math.random() * 200 * velocity;

    particle.style.width = particle.style.height = `${particleSize}px`;
    particle.style.left = `${x}px`;
    particle.style.top = `${y}px`;
    particle.style.background = getRandomColor(); // Random color function
    particle.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
    particle.style.opacity = '0';
    
    setTimeout(() => {
      particle.style.transform = `translate(${xOffset}px, ${yOffset}px) scale(3)`;
      particle.style.opacity = '1';
    }, 10);
    
    setTimeout(() => {
      particle.remove();
    }, 1200);
  }
});

function getRandomColor() {
  const letters = '0123456789ABCDEF';
  let color = '#';
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}
